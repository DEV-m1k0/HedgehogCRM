**Этапы разработки CRM-системы для "Hedgehog"**

#### **Этап 0: Подготовка и проектирование (2-3 недели)**

**Цель:** Заложить архитектурный фундамент и четкое понимание проекта у всей команды.

**Что нужно сделать:**

1. **Углубленный анализ ТЗ:** Провести несколько сессий с заказчиком для уточнения деталей (например, конкретные поля в карточке клиента, структура договора, детали интеграций).
2. **Проектирование базы данных:** Создать детальную ER-диаграмму всех сущностей (Клиент, Курс, Модуль, Группа, Занятие, Сделка и т.д.) и их связей. Это самый критичный технический документ на старте.
3. **Настройка среды и инфраструктуры:**
   * Создать репозитории кода (Git).
   * Развернуть базовую инфраструктуру (Docker, PostgreSQL, Redis).

**Результат:** Утвержденные схемы БД, прототипы интерфейсов, работающая среда разработки.

---

#### **Этап 1: Минимально жизнеспособный продукт (MVP) - Ядро системы (6-8 недель)**

**Цель:** Создать работающий скелет системы, который уже решает ключевые проблемы менеджеров и администратора.

**Что нужно сделать (приоритет по модулям):**

1. **Бэкенд:**
   * Реализовать базовые модели данных и API для сущностей **"Клиенты"**, **"Курсы/Модули"**, **"Группы"**.
   * Реализовать систему **аутентификации и авторизации (RBAC)** для ролей Администратор, Менеджер, Преподаватель.
   * Создать простой модуль **"Воронка продаж (Сделки)"** с этапами и привязкой к клиенту.
2. **Фронтенд (React):**
   * Создать базовый каркас приложения с роутингом.
   * Реализовать интерфейс списка и карточки **Клиента** (просмотр, создание, редактирование).
   * Реализовать простой интерфейс **Воронки продаж** (доска Kanban или список сделок).
   * Создать справочники **Курсов и Групп** (для администратора).
3. **Безопасность:** Реализовать HTTPS, хеширование паролей, защиту endpoints на основе ролей.

**Что сделать потом (в рамках этапа):**

* Базовые CRUD-операции для всех основных сущностей.
* Простой поиск/фильтрация по клиентам.
* Панель администратора для управления пользователями.

**Результат:** Администратор может создать курсы и группы. Менеджер может завести клиента и вести его сделку по этапам. Система уже приносит пользу.

---

#### **Этап 2: Модуль "Обучение" и Календарь (5-7 недель)**

**Цель:** Автоматизировать ключевой процесс академии — учебный, сделав систему полезной для преподавателей.

**Что нужно сделать:**

1. **Расписание (Календарь):**
   * Разработать модель данных для **Занятия (Урока)** с привязкой к группе, теме, дате/времени.
   * Создать API и интерфейс общего календаря (неделя/месяц) с отображением занятий по группам/преподавателям.
2. **Электронный журнал (Критический функционал):**
   * Для каждого занятия в интерфейсе преподавателя реализовать форму отметки **посещаемости** (присутствовал/отсутствовал/опоздал).
   * Автоматически подтягивать **тему урока** из программы модуля.
   * Реализовать в карточке ученика раздел **"История пропусков"**, где отображаются даты и **темы пропущенных уроков**.
   * Добавить возможность оставлять **комментарии** к уроку.
3. **Личный кабинет преподавателя:** Дашборд с моим расписанием, списком моих групп, быстрым доступом к журналу.

**Что сделать потом:**

* Прикрепление файлов к уроку (позже, в этапе 4).
* Ведение успеваемости (оценки) — можно добавить позже как расширение журнала.

**Результат:** Преподаватели переходят с бумажных журналов в систему. Появилась основа для прозрачности учебного процесса и организации отработок.

---

#### **Этап 3: Детализация и автоматизация рабочих процессов (4-6 недель)**

**Цель:** Повысить эффективность сотрудников за счет автоматизации рутинных задач.

**Что нужно сделать:**

1. **Модуль "Задачи и события":**
   * Реализовать создание задач, привязку к клиенту/сделке, назначение исполнителя, дедлайны.
   * Интегрировать задачи с этапами воронки (например, автоматическое создание задачи "Отправить договор" при переходе сделки на этап "Оформление").
2. **Расширение модуля "Клиенты":**
   * Добавить систему **тегов** для сегментации.
   * Реализовать детальную **ленту "Истории взаимодействий"**, куда автоматически попадают созданные задачи, изменения в сделках, а позже — звонки и письма.
3. **Базовые уведомления:** Реализовать систему внутренних уведомлений в системе и отправку email-напоминаний о задачах и предстоящих занятиях.

**Результат:** Менеджеры меньше забывают о важных действиях. Появился контекст по каждому клиенту в одном месте.

---

#### **Этап 4: Интеграции и Личный кабинет (5-8 недель)**

**Цель:** Связать CRM с внешним миром и открыть часть данных клиентам.

**Что нужно сделать:**

1. **Личный кабинет для родителей (отдельное фронтенд-приложение или SPA-раздел):**
   * Реализовать отдельную, упрощенную систему аутентификации.
   * Вывести расписание ученика, историю посещаемости, статус по пропускам.
   * Добавить функционал "Сообщить об отсутствии".
2. **Базовые интеграции:**
   * **Email:** Настроить отправку транзакционных писем (приветствие, напоминание о занятии, отчет). Подключить email-отправитель (например, SendGrid/Mailgun).
   * **Telegram Bot:** Создать бота для уведомлений преподавателей и менеджеров (новый лид, задача, отмена занятия).

**Что сделать потом:**

* Сложные интеграции (IP-телефония, WhatsApp API) требуют отдельного времени и бюджета. Их лучше вынести в отдельный этап после MVP.
* Загрузка файлов (ДЗ, материалы) к уроку с отображением в ЛК родителя.

**Результат:** Родители вовлечены в процесс. Снижена нагрузка на менеджеров по информированию. Процесс коммуникации начал автоматизироваться.

---

#### **Этап 5: Аналитика, отчеты и полировка (4-6 недель)**

**Цель:** Предоставить руководству инструменты для анализа бизнеса и улучшить UX.

**Что нужно сделать:**

1. **Модуль "Аналитика и отчеты":**
   * Создать дашборды с ключевыми графиками: **воронка продаж** (конверсия по этапам), **финансы** (оплаты, выручка), **посещаемость** по группам.
   * Реализовать выгрузку отчетов в Excel/PDF.
2. **Глобальное улучшение UX/UI:**
   * Оптимизация производительности, особенно для страниц с большими списками (клиенты, календарь).
   * Добавление расширенной фильтрации и поиска везде.
   * Работа над адаптивностью интерфейса.
3. **Тестирование и рефакторинг:** Нагрузочное тестирование, исправление багов, оптимизация запросов к БД.

**Результат:** Руководство получает данные для принятия решений. Система становится быстрой и удобной для ежедневной работы всего коллектива.

---

#### **Дальнейшие этапы (пост-MVP):**

* **Этап 6: Продвинутые интеграции:** Полноценная интеграция с IP-АТС (звонки из карточки, запись разговоров), WhatsApp Business API, сервисами онлайн-платежей для автоматического закрытия оплат в сделке.
* **Этап 7: Расширение функционала обучения:** Система оценок и рейтингов, интерактивные домашние задания, форумы для групп, видеозвонки (интеграция с Jitsi/Zoom).
* **Этап 8: Мобильное приложение для преподавателей** (React Native) для быстрой отметки посещаемости с телефона.

**Рекомендация:** После каждого этапа проводить демонстрацию заказчику и собирать feedback, который можно учесть в следующем спринте. Начинать стоит строго с **Этапа 0** и **Этапа 1 (MVP)**, так как они создают основу, без которой все последующие функции невозможны.
