<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карточка клиента | HEDGEHOG CRM</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/clients.css">
    <style>
        /* Дополнительные стили для карточки клиента */
        .client-header {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--gray-medium);
        }
        
        .client-avatar {
            position: relative;
        }
        
        .client-main-info {
            flex: 1;
        }
        
        .client-status {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 12px;
        }
        
        .client-meta {
            display: flex;
            gap: 24px;
            margin-top: 16px;
        }
        
        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .meta-label {
            font-size: 12px;
            color: var(--gray-dark);
        }
        
        .meta-value {
            font-size: 14px;
            font-weight: 500;
            color: var(--text);
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 32px;
            margin-top: 24px;
        }
        
        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .sidebar-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 24px;
        }
        
        .sidebar-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin: 0 0 16px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .timeline {
            position: relative;
            padding-left: 20px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 6px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gray-medium);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -20px;
            top: 4px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary);
        }
        
        .timeline-date {
            font-size: 12px;
            color: var(--gray-dark);
            margin-bottom: 4px;
        }
        
        .timeline-content {
            font-size: 14px;
            color: var(--text);
        }
        
        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            border: 1px solid var(--gray-medium);
            border-radius: 8px;
            margin-bottom: 8px;
            transition: var(--transition);
        }
        
        .file-item:hover {
            background: var(--gray-light);
            border-color: var(--primary);
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .file-icon {
            width: 32px;
            height: 32px;
            background: var(--primary-light);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
        }
        
        .payment-card {
            background: var(--white);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            border: 1px solid var(--gray-medium);
            transition: var(--transition);
        }
        
        .payment-card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow);
        }
        
        .payment-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-paid {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }
        
        .status-pending {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }
        
        .status-overdue {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }
        
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 24px;
        }
        
        .quick-action-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px;
            background: var(--white);
            border: 1px solid var(--gray-medium);
            border-radius: 8px;
            color: var(--text);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }
        
        .quick-action-btn:hover {
            background: var(--primary-light);
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .edit-mode-field {
            display: none;
        }
        
        .client-card.edit-mode .view-mode {
            display: none;
        }
        
        .client-card.edit-mode .edit-mode-field {
            display: block;
        }
    </style>
</head>
<body>
    <div class="clients-container">
        <!-- Хлебные крошки -->
        <div style="margin-bottom: 24px;">
            <a href="clients.html" style="color: var(--primary); text-decoration: none;">Клиенты</a>
            <span style="color: var(--gray-dark); margin: 0 8px;">/</span>
            <span style="color: var(--text); font-weight: 500;">Иванов Алексей Петрович</span>
        </div>

        <!-- Шапка карточки клиента -->
        <div class="client-header">
            <div class="client-avatar">
                <div class="avatar medium">ИА</div>
                <button class="btn-icon" style="position: absolute; bottom: 0; right: 0;">
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                        <path d="M11.5 1.5C11.7761 1.22386 12.2239 1.22386 12.5 1.5L13.5 2.5C13.7761 2.77614 13.7761 3.22386 13.5 3.5L5.5 11.5L2 12L2.5 8.5L11.5 1.5Z" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                </button>
            </div>
            
            <div class="client-main-info">
                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div>
                        <h1 class="page-title" style="margin: 0;">Иванов Алексей Петрович</h1>
                        <p class="page-subtitle" style="margin: 4px 0;">Ученик • 14 лет</p>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-secondary" onclick="ClientsUI.toggleEditMode('clientDetailCard')">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                <path d="M11.5 1.5C11.7761 1.22386 12.2239 1.22386 12.5 1.5L13.5 2.5C13.7761 2.77614 13.7761 3.22386 13.5 3.5L5.5 11.5L2 12L2.5 8.5L11.5 1.5Z" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            Редактировать
                        </button>
                        <button class="btn btn-primary" onclick="openModal('addInteractionModal')">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                <path d="M13 7H1M7 1V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            Добавить действие
                        </button>
                    </div>
                </div>
                
                <div class="client-status">
                    <span class="status-badge status-active">Активный</span>
                    <span class="client-role">Ученик</span>
                </div>
                
                <div class="client-meta">
                    <div class="meta-item">
                        <span class="meta-label">Телефон</span>
                        <span class="meta-value">+7 (999) 123-45-67</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Email</span>
                        <span class="meta-value">alexey@example.com</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Дата регистрации</span>
                        <span class="meta-value">15.01.2024</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Менеджер</span>
                        <span class="meta-value">Сидорова А.П.</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Основной контент -->
        <div class="content-grid">
            <!-- Левая колонка -->
            <div>
                <!-- Вкладки -->
                <div class="tabs">
                    <button class="tab active" data-tab="info">Основная информация</button>
                    <button class="tab" data-tab="parents">Родители/Контакты</button>
                    <button class="tab" data-tab="history">История взаимодействий</button>
                    <button class="tab" data-tab="education">Обучение</button>
                    <button class="tab" data-tab="deals">Сделки</button>
                </div>

                <!-- Содержимое вкладок -->
                <div id="info" class="tab-content active">
                    <div class="client-card" id="clientDetailCard">
                        <div class="card-header">
                            <div>
                                <h3 class="client-name view-mode">Иванов Алексей Петрович</h3>
                                <input type="text" class="form-control edit-mode-field" value="Иванов Алексей Петрович">
                            </div>
                            <div>
                                <span class="client-role view-mode">Ученик</span>
                                <select class="form-control edit-mode-field" style="width: 120px;">
                                    <option>Ученик</option>
                                    <option>Лидер</option>
                                    <option>Родитель</option>
                                </select>
                            </div>
                        </div>

                        <div class="client-info">
                            <div class="info-row">
                                <span class="info-label">Дата рождения:</span>
                                <span class="info-value view-mode">12.05.2010 (14 лет)</span>
                                <input type="date" class="form-control edit-mode-field" value="2010-05-12">
                            </div>
                            <div class="info-row">
                                <span class="info-label">Телефон:</span>
                                <span class="info-value view-mode">+7 (999) 123-45-67</span>
                                <input type="tel" class="form-control edit-mode-field" value="+7 (999) 123-45-67">
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value view-mode">alexey@example.com</span>
                                <input type="email" class="form-control edit-mode-field" value="alexey@example.com">
                            </div>
                            <div class="info-row">
                                <span class="info-label">Адрес:</span>
                                <span class="info-value view-mode">г. Москва, ул. Примерная, д. 1</span>
                                <input type="text" class="form-control edit-mode-field" value="г. Москва, ул. Примерная, д. 1">
                            </div>
                        </div>

                        <div class="tags-container">
                            <span class="tag active">Активный</span>
                            <span class="tag">Оплачено</span>
                            <span class="tag">С отличием</span>
                            <button class="btn-icon" onclick="openModal('addTagModal')" style="margin-left: auto;">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                    <path d="M13 7H1M7 1V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>

                        <div class="card-actions" style="justify-content: flex-end;">
                            <button class="btn btn-ghost view-mode" onclick="ClientsUI.toggleEditMode('clientDetailCard')">
                                Редактировать
                            </button>
                            <div class="edit-mode-field" style="display: none; width: 100%;">
                                <button class="btn btn-secondary" onclick="ClientsUI.toggleEditMode('clientDetailCard')">
                                    Отмена
                                </button>
                                <button class="btn btn-primary" style="margin-left: 8px;">
                                    Сохранить изменения
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="parents" class="tab-content">
                    <div class="sidebar-card">
                        <h4 class="sidebar-title">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M12 13V11.6667C12 10.9594 11.719 10.2811 11.219 9.78105C10.7189 9.28095 10.0406 9 9.33333 9H4.66667C3.95942 9 3.28115 9.28095 2.78105 9.78105C2.28095 10.2811 2 10.9594 2 11.6667V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="7" cy="4" r="2.5" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            Контакты родителей
                        </h4>
                        
                        <div class="client-info">
                            <div class="info-row">
                                <span class="info-label">Мать:</span>
                                <span class="info-value">Иванова Елена Владимировна</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Телефон:</span>
                                <span class="info-value">+7 (999) 111-22-33</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value">elena@example.com</span>
                            </div>
                            
                            <div style="margin: 20px 0; height: 1px; background: var(--gray-medium);"></div>
                            
                            <div class="info-row">
                                <span class="info-label">Отец:</span>
                                <span class="info-value">Иванов Петр Сергеевич</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Телефон:</span>
                                <span class="info-value">+7 (999) 222-33-44</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value">petr@example.com</span>
                            </div>
                        </div>
                        
                        <div class="card-actions" style="margin-top: 20px;">
                            <button class="btn btn-primary" onclick="openModal('editParentsModal')">
                                Редактировать контакты
                            </button>
                        </div>
                    </div>
                </div>

                <div id="history" class="tab-content">
                    <div class="sidebar-card">
                        <h4 class="sidebar-title">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M8 4V8L10 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            История взаимодействий
                        </h4>
                        
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-date">Сегодня, 14:30</div>
                                <div class="timeline-content">
                                    <strong>Звонок от менеджера</strong>
                                    <p style="margin: 4px 0 0 0; color: var(--gray-dark);">
                                        Обсуждение успеваемости, все хорошо
                                    </p>
                                </div>
                            </div>
                            
                            <div class="timeline-item">
                                <div class="timeline-date">Вчера, 16:00</div>
                                <div class="timeline-content">
                                    <strong>Отправлено email</strong>
                                    <p style="margin: 4px 0 0 0; color: var(--gray-dark);">
                                        Напоминание о следующем занятии
                                    </p>
                                </div>
                            </div>
                            
                            <div class="timeline-item">
                                <div class="timeline-date">25.12.2024</div>
                                <div class="timeline-content">
                                    <strong>Оплата курса</strong>
                                    <p style="margin: 4px 0 0 0; color: var(--gray-dark);">
                                        Получена оплата за модуль "Python Basics"
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-secondary" style="width: 100%; margin-top: 16px;">
                            Показать всю историю
                        </button>
                    </div>
                </div>
            </div>

            <!-- Правая колонка (сайдбар) -->
            <div>
                <!-- Быстрые действия -->
                <div class="sidebar-card">
                    <h4 class="sidebar-title">Быстрые действия</h4>
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="openModal('addTaskModal')">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="2" y="2" width="12" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M8 5V11M5 8H11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            Задача
                        </button>
                        <button class="quick-action-btn" onclick="openModal('addCallModal')">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M14.3334 11.5533V13.3333C14.3334 14.0697 13.7364 14.6667 13 14.6667C6.55604 14.6667 1.33337 9.444 1.33337 3C1.33337 2.26362 1.93039 1.66667 2.66671 1.66667H4.44671C4.87392 1.66667 5.24507 1.95467 5.34302 2.37067L6.07671 5.45733C6.16247 5.81984 6.02263 6.19867 5.72071 6.41533L4.34137 7.462C5.30232 9.41309 6.58724 10.698 8.53837 11.6593L9.58504 10.28C9.80171 9.978 10.1805 9.83817 10.543 9.92333L13.6297 10.6573C14.0457 10.7553 14.3334 11.1264 14.3334 11.5533Z" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            Звонок
                        </button>
                        <button class="quick-action-btn" onclick="openModal('addEmailModal')">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="1" y="3" width="14" height="10" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M1 5L8 9L15 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            Email
                        </button>
                        <button class="quick-action-btn" onclick="openModal('addPaymentModal')">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <rect x="1" y="4" width="14" height="8" rx="2" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M1 7H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            Платеж
                        </button>
                    </div>
                </div>

                <!-- Обучение -->
                <div class="sidebar-card">
                    <h4 class="sidebar-title">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 12V14M8 12C6.34315 12 5 10.6569 5 9V5C5 3.34315 6.34315 2 8 2C9.65685 2 11 3.34315 11 5V9C11 10.6569 9.65685 12 8 12Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        Текущее обучение
                    </h4>
                    
                    <div class="client-info">
                        <div class="info-row">
                            <span class="info-label">Курс:</span>
                            <span class="info-value">Python-программист</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Группа:</span>
                            <span class="info-value">PY-23-01</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Преподаватель:</span>
                            <span class="info-value">Петров И.С.</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Прогресс:</span>
                            <span class="info-value">
                                <div style="width: 100%; height: 8px; background: var(--gray-medium); border-radius: 4px; margin-top: 4px;">
                                    <div style="width: 65%; height: 100%; background: var(--success); border-radius: 4px;"></div>
                                </div>
                                <span style="font-size: 12px; color: var(--gray-dark);">65% завершено</span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="card-actions" style="margin-top: 20px;">
                        <button class="btn btn-secondary" onclick="location.href='#'">
                            Посмотреть успеваемость
                        </button>
                    </div>
                </div>

                <!-- Файлы -->
                <div class="sidebar-card">
                    <h4 class="sidebar-title">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M9 2H5C3.89543 2 3 2.89543 3 4V12C3 13.1046 3.89543 14 5 14H11C12.1046 14 13 13.1046 13 12V6M9 2L13 6M9 2V6H13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        Прикрепленные файлы
                    </h4>
                    
                    <div class="file-item">
                        <div class="file-info">
                            <div class="file-icon">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M9 2H5C3.89543 2 3 2.89543 3 4V12C3 13.1046 3.89543 14 5 14H11C12.1046 14 13 13.1046 13 12V6M9 2L13 6M9 2V6H13" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div>
                                <div style="font-weight: 500;">Договор №12345.pdf</div>
                                <div style="font-size: 12px; color: var(--gray-dark);">1.2 MB • 15.01.2024</div>
                            </div>
                        </div>
                        <button class="btn-icon">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                <path d="M1 7C1 7 3 3 7 3C11 3 13 7 13 7C13 7 11 11 7 11C3 11 1 7 1 7Z" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="7" cy="7" r="2" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="file-item">
                        <div class="file-info">
                            <div class="file-icon">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M9 2H5C3.89543 2 3 2.89543 3 4V12C3 13.1046 3.89543 14 5 14H11C12.1046 14 13 13.1046 13 12V6M9 2L13 6M9 2V6H13" stroke="currentColor" stroke-width="1.5"/>
                                </svg>
                            </div>
                            <div>
                                <div style="font-weight: 500;">Тестовое задание.py</div>
                                <div style="font-size: 12px; color: var(--gray-dark);">45 KB • 20.12.2024</div>
                            </div>
                        </div>
                        <button class="btn-icon">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                                <path d="M1 7C1 7 3 3 7 3C11 3 13 7 13 7C13 7 11 11 7 11C3 11 1 7 1 7Z" stroke="currentColor" stroke-width="1.5"/>
                                <circle cx="7" cy="7" r="2" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                        </button>
                    </div>
                    
                    <button class="btn btn-secondary" style="width: 100%; margin-top: 12px;">
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
                            <path d="M13 7H1M7 1V13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        Добавить файл
                    </button>
                </div>

                <!-- Платежи -->
                <div class="sidebar-card">
                    <h4 class="sidebar-title">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <rect x="1" y="4" width="14" height="8" rx="2" stroke="currentColor" stroke-width="1.5"/>
                            <path d="M1 7H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        Последние платежи
                    </h4>
                    
                    <div class="payment-card">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <div style="font-weight: 600;">25.12.2024</div>
                            <span class="payment-status status-paid">Оплачено</span>
                        </div>
                        <div style="color: var(--gray-dark); font-size: 12px; margin-bottom: 4px;">
                            За модуль "Python Basics"
                        </div>
                        <div style="font-weight: 700; color: var(--success);">
                            15 000 ₽
                        </div>
                    </div>
                    
                    <div class="payment-card">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <div style="font-weight: 600;">10.01.2025</div>
                            <span class="payment-status status-pending">Ожидает</span>
                        </div>
                        <div style="color: var(--gray-dark); font-size: 12px; margin-bottom: 4px;">
                            За модуль "OOP in Python"
                        </div>
                        <div style="font-weight: 700; color: var(--warning);">
                            15 000 ₽
                        </div>
                    </div>
                    
                    <button class="btn btn-secondary" style="width: 100%; margin-top: 12px;">
                        Все платежи
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальные окна -->
    <div class="modal-overlay" id="addInteractionModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Добавить взаимодействие</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label class="form-label">Тип взаимодействия</label>
                        <select class="form-control">
                            <option>Звонок</option>
                            <option>Email</option>
                            <option>Встреча</option>
                            <option>Задача</option>
                            <option>Комментарий</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Дата и время</label>
                        <input type="datetime-local" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Описание</label>
                        <textarea class="form-control" rows="4" placeholder="Опишите суть взаимодействия..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Результат</label>
                        <select class="form-control">
                            <option>Успешно</option>
                            <option>Не дозвонился</option>
                            <option>Перенесено</option>
                            <option>Отменено</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal(document.getElementById('addInteractionModal'))">
                    Отмена
                </button>
                <button class="btn btn-primary">Сохранить</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="addTagModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Добавить тег</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label class="form-label">Название тега</label>
                        <input type="text" class="form-control" placeholder="Например: VIP, Задолженность...">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Цвет тега</label>
                        <div style="display: flex; gap: 8px; margin-top: 8px;">
                            <label style="display: flex; align-items: center; gap: 4px;">
                                <input type="radio" name="tagColor" checked>
                                <span style="display: inline-block; width: 20px; height: 20px; border-radius: 4px; background: var(--primary);"></span>
                                Основной
                            </label>
                            <label style="display: flex; align-items: center; gap: 4px;">
                                <input type="radio" name="tagColor">
                                <span style="display: inline-block; width: 20px; height: 20px; border-radius: 4px; background: var(--success);"></span>
                                Успех
                            </label>
                            <label style="display: flex; align-items: center; gap: 4px;">
                                <input type="radio" name="tagColor">
                                <span style="display: inline-block; width: 20px; height: 20px; border-radius: 4px; background: var(--warning);"></span>
                                Внимание
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Существующие теги</label>
                        <div class="tags-container">
                            <span class="tag" onclick="ClientsUI.addTag('clientDetailCard', {text: 'VIP', type: 'active'})">VIP</span>
                            <span class="tag" onclick="ClientsUI.addTag('clientDetailCard', {text: 'Задолженность', type: 'cold'})">Задолженность</span>
                            <span class="tag" onclick="ClientsUI.addTag('clientDetailCard', {text: 'Пробный урок', type: 'new'})">Пробный урок</span>
                            <span class="tag" onclick="ClientsUI.addTag('clientDetailCard', {text: 'Акция', type: 'active'})">Акция</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal(document.getElementById('addTagModal'))">
                    Отмена
                </button>
                <button class="btn btn-primary">Добавить тег</button>
            </div>
        </div>
    </div>

    <script src="js/clients-animations.js"></script>
    <script>
        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Проверяем, нужно ли открыть в режиме редактирования
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('edit') === 'true') {
                ClientsUI.toggleEditMode('clientDetailCard');
            }
            
            // Инициализация анимаций
            initClientsAnimations();
        });
    </script>
</body>
</html>